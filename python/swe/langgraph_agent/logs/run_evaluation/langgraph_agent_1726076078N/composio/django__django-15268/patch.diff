diff --git a/django/db/migrations/migration.py b/django/db/migrations/migration.py
index 5ee0ae51..7fb8ad13 100644
--- a/django/db/migrations/migration.py
+++ b/django/db/migrations/migration.py
@@ -57,6 +57,38 @@ class Migration:
         self.dependencies = list(self.__class__.dependencies)
         self.run_before = list(self.__class__.run_before)
         self.replaces = list(self.__class__.replaces)
+        self.replaces = list(self.__class__.replaces)
+        self.optimize_operations()
+
+    def optimize_operations(self):
+        from django.db.migrations.operations.models import AlterUniqueTogether, AlterIndexTogether
+        optimized_operations = []
+        i = 0
+        while i < len(self.operations):
+            current_op = self.operations[i]
+            if isinstance(current_op, (AlterUniqueTogether, AlterIndexTogether)):
+                # Look ahead for the next operation of the same type on the same model
+                j = i + 1
+                while j < len(self.operations):
+                    next_op = self.operations[j]
+                    if (
+                        isinstance(next_op, type(current_op))
+                        and next_op.name == current_op.name
+                    ):
+                        # Merge the operations
+                        if isinstance(current_op, AlterUniqueTogether):
+                            current_op.unique_together = next_op.unique_together
+                        else:  # AlterIndexTogether
+                            current_op.index_together = next_op.index_together
+                        j += 1
+                    else:
+                        break
+                optimized_operations.append(current_op)
+                i = j
+            else:
+                optimized_operations.append(current_op)
+                i += 1
+        self.operations = optimized_operations
 
     def __eq__(self, other):
         return (
